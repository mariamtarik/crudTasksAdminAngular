"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[652],{5652:(O,p,a)=>{a.r(p),a.d(p,{ManageUsersTasksModule:()=>M});var u=a(6895),d=a(3456),t=a(4650),x=a(8456),U=a(7185),g=a(4333),m=a(9549),h=a(4144),f=a(4463);function Z(s,r){if(1&s){const e=t.EpF();t.TgZ(0,"button",15),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(),i=o.$implicit,c=o.index,l=t.oxw();return t.KtG(l.changeStatus(i._id,i.status,c))}),t._uU(1,"Active"),t.qZA()}}function _(s,r){if(1&s){const e=t.EpF();t.TgZ(0,"button",16),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(),i=o.$implicit,c=o.index,l=t.oxw();return t.KtG(l.changeStatus(i._id,i.status,c))}),t._uU(1,"In-Active"),t.qZA()}}function T(s,r){if(1&s){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td")(10,"button",12),t.NdJ("click",function(){const o=t.CHM(e),i=o.$implicit,c=o.index,l=t.oxw();return t.KtG(l.deleteuser(i._id,c))}),t._uU(11,"delete"),t.qZA()(),t.TgZ(12,"td"),t.YNc(13,Z,2,0,"button",13),t.YNc(14,_,2,0,"button",14),t.qZA()()}if(2&s){const e=r.$implicit,n=r.index;t.xp6(2),t.Oqu(n+1),t.xp6(2),t.Oqu(e.username),t.xp6(2),t.Oqu(e.email),t.xp6(2),t.Oqu(e.assignedTasks),t.xp6(5),t.Q6J("ngIf","Active"!==e.status),t.xp6(1),t.Q6J("ngIf","Active"==e.status)}}const b=function(s,r){return{id:"tasks",itemsPerPage:5,currentPage:s,totalItems:r}},A=[{path:"",component:(()=>{class s{constructor(e,n){this.mangeService=e,this.toastr=n,this.users=[],this.page=1,this.filter={page:this.page,limit:5},this.getDataFromSubject()}ngOnInit(){this.getUsers()}getUsers(){this.mangeService.getUserData(this.filter)}getDataFromSubject(){this.mangeService.userData.subscribe(e=>{this.users=e.data,this.total=e.total})}changeStatus(e,n,o){this.users[o].assignedTasks>0?this.toastr.error("can't update the user untill complete his tasks"):this.mangeService.changeStatus({id:e,status:n}).subscribe(c=>{this.toastr.success("success","updated user successfully"),this.getUsers()})}deleteuser(e,n){this.users[n].assignedTasks>0?this.toastr.error("can't delete the user untill complete his tasks"):this.mangeService.deleteUser(e).subscribe(o=>{this.toastr.success("success","User Deleted Successfully"),this.getUsers()})}filterName(e){this.filter.name=e.value,this.page=1,this.filter.page=1,clearTimeout(this.setTimeId),this.setTimeId=setTimeout(()=>{this.getUsers()},1e3)}changePage(e){this.page=e,this.filter.page=e,this.getUsers()}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(x.N),t.Y36(U._W))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-users"]],decls:36,vars:28,consts:[[1,"container","allTasks","mt-5"],[1,"row","mt-3"],[1,"col-md-3"],[1,"form-group"],["for","Search"],["appearance","outline",1,"w-100"],["matInput","","placeholder","Search",1,"text-black",3,"keyup"],[1,"table","table-bordered","table-striped","shadow","text-center","bg-white","responsive-table"],["scope","col"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center","shadow"],["id","tasks",1,"fw-bold","py-2",3,"pageChange"],[1,"btn","btn-danger",3,"click"],["class","btn btn-success",3,"click",4,"ngIf"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-primary",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"form")(2,"div",1)(3,"div",2)(4,"div",3)(5,"label",4),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"mat-form-field",5)(9,"input",6),t.NdJ("keyup",function(i){return n.filterName(i.target)}),t.qZA()()()()()(),t.TgZ(10,"table",7)(11,"thead")(12,"tr")(13,"th",8),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"th",8),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"th",8),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"th",8),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"th",8),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"th",8),t._uU(29),t.ALo(30,"translate"),t.qZA()()(),t.TgZ(31,"tbody"),t.YNc(32,T,15,6,"tr",9),t.ALo(33,"paginate"),t.qZA()(),t.TgZ(34,"div",10)(35,"pagination-controls",11),t.NdJ("pageChange",function(i){return n.changePage(i)}),t.qZA()()()),2&e&&(t.xp6(6),t.Oqu(t.lcZ(7,8,"users.search")),t.xp6(8),t.Oqu(t.lcZ(15,10,"users.No")),t.xp6(3),t.Oqu(t.lcZ(18,12,"users.Name")),t.xp6(3),t.Oqu(t.lcZ(21,14,"users.Email")),t.xp6(3),t.Oqu(t.lcZ(24,16,"users.Asignedtasks")),t.xp6(3),t.Oqu(t.lcZ(27,18,"tasks.Delete")),t.xp6(3),t.Oqu(t.lcZ(30,20,"tasks.Status")),t.xp6(3),t.Q6J("ngForOf",t.xi3(33,22,n.users,t.WLB(25,b,n.page,n.total))))},dependencies:[u.sg,u.O5,g.LS,m.KE,h.Nt,g._s,f.X$],styles:["@media screen and (max-width: 767px){.responsive-table[_ngcontent-%COMP%]{display:block;overflow-x:auto;white-space:nowrap}}th[_ngcontent-%COMP%]{color:#19a7ce;font-weight:500;font-size:20px}.add[_ngcontent-%COMP%]{background-color:#19a7ce;font-size:20px}.add[_ngcontent-%COMP%]:focus, .add[_ngcontent-%COMP%]:hover{background-color:#19a7ce;font-size:20px}label[_ngcontent-%COMP%]{color:#19a7ce}table[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70px;height:70px;padding:7px}  a{color:var(--bs-link-color);text-decoration:none;color:#19a7ce}"]}),s})()}];let v=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[d.Bz.forChild(A),d.Bz]}),s})();var C=a(4859),k=a(529);let M=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[u.ez,v,g.JX,f.aw.forChild({extend:!0}),C.ot,m.lN,h.c,k.JF]}),s})()}}]);