"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[187],{4187:(v,u,s)=>{s.r(u),s.d(u,{AuthModule:()=>P});var c=s(6895),g=s(3456),l=s(4006),n=s(4650),w=s(7507),C=s(1135);function m(o){this.message=o}(m.prototype=new Error).name="InvalidCharacterError";var p=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(o){var r=String(o).replace(/=+$/,"");if(r.length%4==1)throw new m("'atob' failed: The string to be decoded is not correctly encoded.");for(var t,e,i=0,a=0,h="";e=r.charAt(a++);~e&&(t=i%4?64*t+e:e,i++%4)?h+=String.fromCharCode(255&t>>(-2*i&6)):0)e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e);return h};function d(o){this.message=o}(d.prototype=new Error).name="InvalidTokenError";var Z=s(529);let y=(()=>{class o{constructor(t){this.HttpClient=t,this.currentUser=new C.X(null),null!=localStorage.getItem("tokenAdminCrud")&&this.saveCurentUser()}saveCurentUser(){let t=localStorage.getItem("tokenAdminCrud");this.currentUser.next(function x(o,r){if("string"!=typeof o)throw new d("Invalid token specified");var t=!0===(r=r||{}).header?0:1;try{return JSON.parse(function A(o){var r=o.replace(/-/g,"+").replace(/_/g,"/");switch(r.length%4){case 0:break;case 2:r+="==";break;case 3:r+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent(p(r).replace(/(.)/g,function(e,i){var a=i.charCodeAt(0).toString(16).toUpperCase();return a.length<2&&(a="0"+a),"%"+a}))}catch{return p(r)}}(o.split(".")[t]))}catch(e){throw new d("Invalid token specified: "+e.message)}}(t))}login(t){return this.HttpClient.post(w.N.baseApi.replace("tasks","auth")+"/login",t)}}return o.\u0275fac=function(t){return new(t||o)(n.LFG(Z.eN))},o.\u0275prov=n.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var b=s(7185),F=s(8423),f=s(4463);function I(o,r){1&o&&(n.TgZ(0,"span",19),n._uU(1,"email is required"),n.qZA())}function M(o,r){1&o&&(n.TgZ(0,"span",19),n._uU(1,"email in invalied"),n.qZA())}function O(o,r){if(1&o&&(n.TgZ(0,"div"),n.YNc(1,I,2,0,"span",18),n.YNc(2,M,2,0,"span",18),n.qZA()),2&o){const t=n.oxw();let e,i;n.xp6(1),n.Q6J("ngIf",null==(e=t.loginForm.get("email"))||null==e.errors?null:e.errors.required),n.xp6(1),n.Q6J("ngIf",null==(i=t.loginForm.get("email"))||null==i.errors?null:i.errors.email)}}function T(o,r){1&o&&(n.TgZ(0,"span",19),n._uU(1,"password is required"),n.qZA())}function L(o,r){1&o&&(n.TgZ(0,"span",19),n._uU(1,"password must start capital and 3-8 any character from(a-z or 0-9) "),n.qZA())}function S(o,r){if(1&o&&(n.TgZ(0,"div"),n.YNc(1,T,2,0,"span",18),n.YNc(2,L,2,0,"span",18),n.qZA()),2&o){const t=n.oxw();let e,i;n.xp6(1),n.Q6J("ngIf",null==(e=t.loginForm.get("password"))||null==e.errors?null:e.errors.required),n.xp6(1),n.Q6J("ngIf",null==(i=t.loginForm.get("password"))||null==i.errors?null:i.errors.pattern)}}const k=[{path:"",component:(()=>{class o{constructor(t,e,i,a){this.AuthService=t,this.toastr=e,this.Router=i,this.spinner=a,this.loginForm=new l.cw({email:new l.NI(null,[l.kI.required,l.kI.email]),password:new l.NI(null,[l.kI.required,l.kI.pattern("^[A-Z][a-z0-9]{3,8}$")]),role:new l.NI("admin")})}login(){this.AuthService.login(this.loginForm.value).subscribe(t=>{localStorage.setItem("tokenAdminCrud",t.token),this.AuthService.saveCurentUser(),this.toastr.success("success","Sucess Login"),this.Router.navigate(["/tasks"])})}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)(n.Y36(y),n.Y36(b._W),n.Y36(g.F0),n.Y36(F.t2))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-login"]],decls:27,vars:23,consts:[[1,"login","row","d-flex","justify-content-center","align-items-center","m-auto","bg-white"],[1,"col-md-6","p-0"],[1,"overlay"],["src","../../../../assets/images/login-task.jpeg","alt","",1,"w-100"],[1,"col-md-6","mt-1"],[1,"h-100","d-flex","align-items-center","justify-content-center"],[1,"box"],[1,"text-center"],[1,"mt-5",3,"formGroup","ngSubmit"],[1,"form-group","mt-2","w-100"],["for","email"],["id","email","type","email","placeholder","Enter your Email","formControlName","email",1,"form-control","my-2"],[4,"ngIf"],[1,"form-group","w-100"],["for","password"],["id","password","type","password","placeholder","Enter your password","formControlName","password",1,"form-control","my-2"],[1,"d-flex","justify-content-center","mt-3","w-100"],[1,"btn","w-100","form-control"],["class","text-danger ",4,"ngIf"],[1,"text-danger"]],template:function(t,e){if(1&t&&(n.TgZ(0,"div",0)(1,"div",1),n._UZ(2,"div",2)(3,"img",3),n.qZA(),n.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"h2",7),n._uU(8),n.ALo(9,"translate"),n.qZA(),n.TgZ(10,"form",8),n.NdJ("ngSubmit",function(){return e.login()}),n.TgZ(11,"div",9)(12,"label",10),n._uU(13),n.ALo(14,"translate"),n.qZA(),n._UZ(15,"input",11),n.YNc(16,O,3,2,"div",12),n.qZA(),n.TgZ(17,"div",13)(18,"label",14),n._uU(19),n.ALo(20,"translate"),n.qZA(),n._UZ(21,"input",15),n.YNc(22,S,3,2,"div",12),n.qZA(),n.TgZ(23,"div",16)(24,"button",17),n._uU(25),n.ALo(26,"translate"),n.qZA()()()()()()()),2&t){let i,a;n.xp6(8),n.hij("",n.lcZ(9,15,"users.Login")," "),n.xp6(2),n.Q6J("formGroup",e.loginForm),n.xp6(3),n.Oqu(n.lcZ(14,17,"users.Email")),n.xp6(2),n.ekj("is-invalid",e.loginForm.controls.email.invalid&&e.loginForm.controls.email.touched)("is-valid",e.loginForm.controls.email.valid&&e.loginForm.controls.email.touched),n.xp6(1),n.Q6J("ngIf",null!=(null==(i=e.loginForm.get("email"))?null:i.errors)&&(null==(i=e.loginForm.get("email"))?null:i.touched)),n.xp6(3),n.Oqu(n.lcZ(20,19,"users.Password")),n.xp6(2),n.ekj("is-invalid",e.loginForm.controls.password.invalid&&e.loginForm.controls.password.touched)("is-valid",e.loginForm.controls.password.valid&&e.loginForm.controls.password.touched),n.xp6(1),n.Q6J("ngIf",null!=(null==(a=e.loginForm.get("password"))?null:a.errors)&&(null==(a=e.loginForm.get("password"))?null:a.touched)),n.xp6(3),n.Oqu(n.lcZ(26,21,"users.Login"))}},dependencies:[c.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,f.X$],styles:["h1[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{color:#19a7ce}button[_ngcontent-%COMP%]{background-color:#19a7ce;color:#fff;font-size:20px}button[_ngcontent-%COMP%]:hover{background-color:#fff;color:#19a7ce}.login-content[_ngcontent-%COMP%]{min-width:100vh}*[_ngcontent-%COMP%]{font-family:cursive}.login[_ngcontent-%COMP%]{position:absolute;inset:0}.login[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.login[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{z-index:5;width:100%;margin:0 50px;padding:50px 20px;border:1px solid white;border-radius:15px;box-shadow:0 2px 5px #19a7cedd}.login[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#19a7ce}.login[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:2px 100px;background-color:#19a7ce;color:#fff}"]}),o})()}];let U=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[g.Bz.forChild(k),g.Bz]}),o})(),P=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[c.ez,U,l.UX,f.aw.forChild({extend:!0})]}),o})()},7507:(v,u,s)=>{s.d(u,{N:()=>c});const c={production:!0,baseApi:"https://crud-wxxm.onrender.com/tasks"}}}]);